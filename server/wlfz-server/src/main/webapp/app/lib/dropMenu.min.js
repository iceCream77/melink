!function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};define(["jquery"],function(e){var n;return n=function(){function n(n){if(this.hide=t(this.hide,this),this.show=t(this.show,this),n=e.extend({},this.defaults,n),this.el=n.el,this.target=n.target,this.menus=n.menus,this.name=n.name,this.namespaces=n.namespaces,this.activeClassName=n.activeClassName,!this.el||!this.name)throw new Error("错误，请输入 el, name");this.$el=e(this.el),this.$target=this.$(this.target),this.$menus=this.$(this.menus),this.bindEvents()}return n.prototype.defaults={target:".nav-btn",menus:".drop-menu",namespaces:"dropMenu",activeClassName:"active"},n.prototype.$=function(t){return e(t,this.$el)},n.prototype.bindEvents=function(){var t;return t=["click",this.name,this.namespaces].join("."),this.$el.on(t,this.target,this.show),e(document).on(t,this.hide)},n.prototype.show=function(t){var n;return t.stopPropagation(),"header"===this.name?(this.$target.not(n=e(t.currentTarget).toggleClass(this.activeClassName)).removeClass(this.activeClassName),this.$menus.not(n.next().toggle()).hide()):this.$menus.not(e(t.currentTarget).next().toggleClass(this.activeClassName).toggle()).hide()},n.prototype.hide=function(){return"header"===this.name?this.$menus.hide()&&this.$target.removeClass(this.activeClassName):this.$menus.filter("."+this.activeClassName).removeClass(this.activeClassName).hide()},n.prototype.release=function(){var t,n;return n=this.name?"."+this.name+"."+this.namespaces:"."+this.namespaces,this.$el.off(n),e(document).off(n),(t=this.$el.data())&&delete t.dropMenu},n}()})}.call(this);